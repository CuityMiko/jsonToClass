var WHCValueType={_Int:0,_Float:1,_Boolean:2,_String:3,_Array:4,_Dictionary:5,_Null:6};function WHCValue(a){this.type=WHCValueType._Null;if(this.isString(a)){this.type=WHCValueType._String}else{if(this.isInt(a)){this.type=WHCValueType._Int}else{if(this.isFloat(a)){this.type=WHCValueType._Float}else{if(this.isBoolean(a)){this.type=WHCValueType._Boolean}else{if(this.isArray(a)){this.type=WHCValueType._Array}else{if(a!=null){this.type=WHCValueType._Dictionary}}}}}}}WHCValue.prototype.isArray=function(a){return a!=null&&typeof a==="object"&&typeof a.length==="number"&&typeof a.splice==="function"&&!(a.propertyIsEnumerable("length"))};WHCValue.prototype.isString=function(a){return a!=null&&typeof a==="string"};WHCValue.prototype.isBoolean=function(a){return a!=null&&typeof a==="boolean"};WHCValue.prototype.isInt=function(a){return a!=null&&typeof a==="number"&&a===parseInt(a)};WHCValue.prototype.isFloat=function(a){return a!=null&&typeof a==="number"&&a===parseFloat(a)};WHCValue.prototype.isObject=function(a){return a!=null&&a instanceof Object};var WHCParserLanguage={Swift:0,SwiftClass:6,SwiftSexyJson:7,SwiftSexyJsonClass:8,OC:1,Java:2,Python:3,Kotlin:4,CNet:5,Unknown:6,desc:function(a){switch(a){case this.Python:return"Python";case this.Kotlin:return"Kotlin";case this.Swift:return"Swift";case this.CNet:return"C#";case this.Java:return"Java";case this.SwiftClass:return"SwiftClass";case this.SwiftSexyJson:return"SwiftSexyJson";case this.SwiftSexyJsonClass:return"SwiftSexyJsonClass";case this.OC:return"Objective-c";default:return"unkown"}}};function WHCJsonParser(a){this.type=a;this.classImplementation="";this.classHeader="";this.rootClassName="WHC";this.isExistArray=false;this.kJavaSetGetString="    public void setWHCPROPERTY(WHCTYPE WHCProperty){\n        this.WHCProperty = WHCProperty;\n    }\n    public WHCTYPE getWHCPROPERTY(){\n        return this.WHCProperty;\n    }\n"}WHCJsonParser.prototype.keyCount=function(a){let valueInfo=new WHCValue(a);switch(valueInfo.type){case WHCValueType._Array:return a.length;case WHCValueType._Dictionary:let count=0;for(let k in a){count+=1}return count;default:return 0}};WHCJsonParser.prototype.makeClassName=function(a){let key_len=a.length;if(key_len>0){return a.charAt(0).toLocaleUpperCase()+(key_len>1?a.substr(1,a.length-1):"")}};WHCJsonParser.prototype.makeLowerName=function(a){let key_len=a.length;if(key_len>0){return a.charAt(0).toLocaleLowerCase()+(key_len>1?a.substr(1,a.length-1):"")}};WHCJsonParser.prototype.arrayElementType=function(b,a){let elementInfo=new WHCValue(a);switch(this.type){case WHCParserLanguage.Swift:case WHCParserLanguage.SwiftClass:case WHCParserLanguage.SwiftSexyJson:case WHCParserLanguage.SwiftSexyJsonClass:switch(elementInfo.type){case WHCValueType._String:return"String";case WHCValueType._Int:return"Int";case WHCValueType._Float:return"CGFloat";case WHCValueType._Boolean:return"Bool";case WHCValueType._Dictionary:return this.makeClassName(b);case WHCValueType._Array:if(a.length>0){return"["+this.arrayElementType(b,a[0])+"]"}return"Any"}break;case WHCParserLanguage.OC:switch(elementInfo.type){case WHCValueType._String:return"NSString *";case WHCValueType._Int:case WHCValueType._Float:case WHCValueType._Boolean:return"NSNumber *";case WHCValueType._Dictionary:return this.makeClassName(b)+" *";case WHCValueType._Array:if(a.length>0){return"NSArray<"+this.arrayElementType(b,a[0])+" *> *"}return"NSObject *"}break;case WHCParserLanguage.Java:switch(elementInfo.type){case WHCValueType._Null:case WHCValueType._String:return"String";case WHCValueType._Int:return"Integer";case WHCValueType._Float:return"Float";case WHCValueType._Boolean:return"Boolean";case WHCValueType._Dictionary:return this.makeClassName(b);case WHCValueType._Array:if(a.length>0){return"List<"+this.arrayElementType(b,a[0])+">"}return"Object"}break;case WHCParserLanguage.CNet:switch(elementInfo.type){case WHCValueType._Null:case WHCValueType._String:return"string";case WHCValueType._Int:return"int";case WHCValueType._Float:return"float";case WHCValueType._Boolean:return"bool";case WHCValueType._Dictionary:return this.makeClassName(b);case WHCValueType._Array:if(a.length>0){return"List<"+this.arrayElementType(b,a[0])+">"}return"Object"}break;default:break}};WHCJsonParser.prototype.makeSetGetMothod=function(a,b,c){let setget="";switch(this.type){case WHCParserLanguage.SwiftSexyJson:case WHCParserLanguage.SwiftSexyJsonClass:setget="      "+this.makeLowerName(b)+'    <<<    map["'+b+'"]\n';break;case WHCParserLanguage.Java:setget=this.kJavaSetGetString.replace(/WHCTYPE/g,c);setget=setget.replace(/WHCPROPERTY/g,this.makeClassName(b));setget=setget.replace(/WHCProperty/g,this.makeLowerName(b));break;default:break}return setget};WHCJsonParser.prototype.firstLower=function(a){if(a!=null&&a.length>0){let first=a.charAt(0)return a.charAt(0).toLowerCase()+a.substr(1,a.length-1)}return""};WHCJsonParser.prototype.makeProperty=function(a,b,c){let property_str="";let setget_str="";switch(this.type){case WHCParserLanguage.Swift:case WHCParserLanguage.SwiftClass:case WHCParserLanguage.SwiftSexyJson:case WHCParserLanguage.SwiftSexyJsonClass:switch(a){case WHCValueType._Null:case WHCValueType._String:setget_str=this.makeSetGetMothod(a,b,"String");property_str="    var "+this.makeLowerName(b)+": String!\n";break;case WHCValueType._Int:setget_str=this.makeSetGetMothod(a,b,"Int");property_str="    var "+this.makeLowerName(b)+": Int = 0\n";break;case WHCValueType._Float:setget_str=this.makeSetGetMothod(a,b,"CGFloat");property_str="    var "+this.makeLowerName(b)+": CGFloat = 0\n";break;case WHCValueType._Boolean:setget_str=this.makeSetGetMothod(a,b,"Bool");property_str="    var "+this.makeLowerName(b)+": Bool = false\n";break;case WHCValueType._Dictionary:setget_str=this.makeSetGetMothod(a,b,this.makeClassName(b));property_str="    var "+this.makeLowerName(b)+": "+this.makeClassName(b)+"!\n";break;case WHCValueType._Array:let valueInfo=new WHCValue(c);switch(valueInfo.type){case WHCValueType._String:setget_str=this.makeSetGetMothod(a,b,"[String]");property_str="    var "+this.makeLowerName(b)+": [String]!\n";break;case WHCValueType._Int:setget_str=this.makeSetGetMothod(a,b,"[Int]");property_str="    var "+this.makeLowerName(b)+": [Int]!\n";break;case WHCValueType._Float:setget_str=this.makeSetGetMothod(a,b,"[CGFloat]");property_str="    var "+this.makeLowerName(b)+": [CGFloat]!\n";break;case WHCValueType._Boolean:setget_str=this.makeSetGetMothod(a,b,"[Bool]");property_str="    var "+this.makeLowerName(b)+": [Bool]!\n";break;case WHCValueType._Dictionary:setget_str=this.makeSetGetMothod(a,b,"["+this.makeClassName(b)+"]");property_str="    var "+this.makeLowerName(b)+": ["+this.makeClassName(b)+"]!\n";break;case WHCValueType._Array:if(c.length>0){setget_str=this.makeSetGetMothod(a,b,"["+this.arrayElementType(b,c[0])+"]");property_str="    var "+this.makeLowerName(b)+": ["+this.arrayElementType(b,c[0])+"]!\n";break}setget_str=this.makeSetGetMothod(a,b,"[Any]");property_str="    var "+this.makeLowerName(b)+": [Any]!\n";break}break;default:break}break;case WHCParserLanguage.OC:switch(a){case WHCValueType._Null:case WHCValueType._String:property_str="@property (nonatomic ,copy)NSString * "+b+"\n";break;case WHCValueType._Int:property_str="@property (nonatomic ,assign)NSInteger  "+b+"\n";break;case WHCValueType._Float:property_str="@property (nonatomic ,assign)CGFloat  "+b+"\n";break;case WHCValueType._Boolean:property_str="@property (nonatomic ,assign)BOOL  "+b+"\n";break;case WHCValueType._Dictionary:property_str="@property (nonatomic ,strong)"+this.makeClassName(b)+" * "+b+"\n";break;case WHCValueType._Array:let valueInfo=new WHCValue(c);switch(valueInfo.type){case WHCValueType._String:property_str="@property (nonatomic ,copy)NSArray<NSString *> * "+b+"\n";break;case WHCValueType._Int:case WHCValueType._Float:case WHCValueType._Boolean:property_str="@property (nonatomic ,copy)NSArray<NSNumber *> * "+b+"\n";break;case WHCValueType._Dictionary:property_str="@property (nonatomic ,copy)NSArray<"+this.makeClassName(b)+" *> * "+b+"\n";break;case WHCValueType._Array:if(c.length>0){property_str="@property (nonatomic ,copy)NSArray<"+this.arrayElementType(b,c[0])+"> * "+b+"\n";break}property_str="@property (nonatomic ,copy)NSArray<NSObject *> * "+b+"\n";break}break;default:break}break;case WHCParserLanguage.Java:switch(a){case WHCValueType._Null:case WHCValueType._String:setget_str=this.makeSetGetMothod(a,b,"String");property_str="    private    String    "+this.makeLowerName(b)+";\n";break;case WHCValueType._Int:setget_str=this.makeSetGetMothod(a,b,"int");property_str="    private    int    "+this.makeLowerName(b)+";\n";break;case WHCValueType._Float:setget_str=this.makeSetGetMothod(a,b,"float");property_str="    private    float    "+this.makeLowerName(b)+";\n";break;case WHCValueType._Boolean:setget_str=this.makeSetGetMothod(a,b,"boolean");property_str="    private    boolean    "+this.makeLowerName(b)+";\n";break;case WHCValueType._Dictionary:setget_str=this.makeSetGetMothod(a,b,this.makeClassName(b));property_str="    private    "+this.makeClassName(b)+"    "+this.makeLowerName(b)+";\n";break;case WHCValueType._Array:let valueInfo=new WHCValue(c);switch(valueInfo.type){case WHCValueType._String:setget_str=this.makeSetGetMothod(a,b,"List<String>");property_str="    private    List<String>    "+this.makeLowerName(b)+";\n";break;case WHCValueType._Int:setget_str=this.makeSetGetMothod(a,b,"List<Integer>");property_str="    private    List<Integer>    "+this.makeLowerName(b)+";\n";break;case WHCValueType._Float:setget_str=this.makeSetGetMothod(a,b,"List<Float>");property_str="    private    List<Float>    "+this.makeLowerName(b)+";\n";break;case WHCValueType._Boolean:setget_str=this.makeSetGetMothod(a,b,"List<Boolean>");property_str="    private    List<Boolean>    "+this.makeLowerName(b)+";\n";break;case WHCValueType._Dictionary:setget_str=this.makeSetGetMothod(a,b,"List<"+this.makeClassName(b)+">");property_str="    private    List<"+this.makeClassName(b)+">    "+this.makeLowerName(b)+";\n";break;case WHCValueType._Array:if(c.length>0){setget_str=this.makeSetGetMothod(a,b,"List<"+this.arrayElementType(b,c[0])+">");property_str="    private    List<"+this.arrayElementType(b,c[0])+">    "+this.makeLowerName(b)+";\n";break}setget_str=this.makeSetGetMothod(a,b,"List<Object>");property_str="    private    List<Object>    "+this.makeLowerName(b)+";\n";break}break;default:break}break;case WHCParserLanguage.CNet:switch(a){case WHCValueType._Null:case WHCValueType._String:property_str="    public    string    "+b+"{set; get;}\n";break;case WHCValueType._Int:property_str="    public    int    "+b+"{set; get;}\n";break;case WHCValueType._Float:property_str="    public    float    "+b+"{set; get;}\n";break;case WHCValueType._Boolean:property_str="    public    bool    "+b+"{set; get;}\n";break;case WHCValueType._Dictionary:property_str="    public    "+this.makeClassName(b)+"    "+b+"{set; get;}\n";break;case WHCValueType._Array:let valueInfo=new WHCValue(c);switch(valueInfo.type){case WHCValueType._String:property_str="    public    List<string>    "+b+"{set; get;}\n";break;case WHCValueType._Int:property_str="    public    List<int>    "+b+"{set; get;}\n";break;case WHCValueType._Float:property_str="    public    List<float>    "+b+"{set; get;}\n";break;case WHCValueType._Boolean:property_str="    public    List<bool>    "+b+"{set; get;}\n";break;case WHCValueType._Dictionary:property_str="    public    List<"+this.makeClassName(b)+">    "+b+"{set; get;}\n";break;case WHCValueType._Array:if(c.length>0){property_str="    public    List<"+this.arrayElementType(b,c[0])+">    "+b+"{set; get;}\n";break}property_str="    private    List<Object>    "+b+"{set; get;}\n";break}break;default:break}break;default:break}return[property_str,setget_str]};WHCJsonParser.prototype.makeClassBeginTxt=function(a){let begin_txt="";switch(this.type){case WHCParserLanguage.Swift:begin_txt="//MARK: - "+a+" -\n\n";begin_txt+="struct "+this.makeClassName(a)+" {\n";break;case WHCParserLanguage.SwiftClass:begin_txt="//MARK: - "+a+" -\n\n";begin_txt+="class "+this.makeClassName(a)+" {\n";break;case WHCParserLanguage.SwiftSexyJson:begin_txt="//MARK: - "+a+" -\n\n";begin_txt+="struct "+this.makeClassName(a)+":SexyJson {\n";break;case WHCParserLanguage.SwiftSexyJsonClass:begin_txt="//MARK: - "+a+" -\n\n";begin_txt+="class "+this.makeClassName(a)+":SexyJson {\n";break;case WHCParserLanguage.OC:this.classImplementation+="#pragma mark - "+a+" -\n\n";this.classImplementation+="@implementation "+this.makeClassName(a)+"\n\n@end\n\n";begin_txt="#pragma mark - "+a+" -\n\n";begin_txt+="@interface "+this.makeClassName(a)+": NSObject\n";break;case WHCParserLanguage.Java:case WHCParserLanguage.CNet:begin_txt="/*==========="+a+"===========*/\n\n";begin_txt+="public class "+this.makeClassName(a)+" {\n";break;default:return""}return begin_txt};WHCJsonParser.prototype.addDidParsedContent=function(a){switch(this.type){case WHCParserLanguage.OC:this.classHeader+=a;break;default:this.classImplementation+=a;break}};WHCJsonParser.prototype.makeClassEndTxt=function(){switch(this.type){case WHCParserLanguage.Swift:case WHCParserLanguage.SwiftClass:case WHCParserLanguage.SwiftSexyJson:case WHCParserLanguage.SwiftSexyJsonClass:case WHCParserLanguage.Java:case WHCParserLanguage.CNet:return"}\n\n";case WHCParserLanguage.OC:return"@end\n\n";default:return""}};WHCJsonParser.prototype.executeParseEngine=function(a,b){let result="";let setget="\n";for(let key in a){let value=a[key];let valueInfo=new WHCValue(value);switch(valueInfo.type){case WHCValueType._Array:this.isExistArray=true;let property_info=this.makeProperty(valueInfo.type,key,value);result+=property_info[0];setget+=property_info[1];let content="";if(value.length>0){let max_element=null;for(let i in value){let element=value[i];if(max_element==null){max_element=element}else{if(this.keyCount(max_element)<this.keyCount(element)){max_element=element}}}if(max_element){let max_element_info=new WHCValue(max_element);switch(max_element_info.type){case WHCValueType._Array:case WHCValueType._Dictionary:content+=this.makeClassBeginTxt(key);content+=this.executeParseEngine(max_element,key);content+=this.makeClassEndTxt();this.addDidParsedContent(content);break;default:break}}}break;case WHCValueType._Dictionary:let property_info=this.makeProperty(valueInfo.type,key,value);result+=property_info[0];setget+=property_info[1];let content=this.makeClassBeginTxt(key);if(content.length>0){content+=this.executeParseEngine(value,key)}content+=this.makeClassEndTxt();this.addDidParsedContent(content);break;case WHCValueType._String:case WHCValueType._Null:case WHCValueType._Int:case WHCValueType._Float:case WHCValueType._Boolean:let property_info=this.makeProperty(valueInfo.type,key,value);result+=property_info[0];setget+=property_info[1];break;default:break}}if(setget&&setget!="\n"){switch(this.type){case WHCParserLanguage.SwiftSexyJson:let sexy_map="\n    public mutating func sexyMap(_ map: [String : Any]) {\n";sexy_map+=setget;sexy_map+="\n   }\n";result+=sexy_map;break;case WHCParserLanguage.SwiftSexyJsonClass:let sexy_map="\n    public func sexyMap(_ map: [String : Any]) {\n";sexy_map+=setget;sexy_map+="\n   }\n";result+=sexy_map;break;default:result+=setget;break}}return result};WHCJsonParser.prototype.startParser=function(a){if(a.length>0){let json_object=JSON.parse(a);if(json_object){switch(this.type){case WHCParserLanguage.OC:this.classHeader=this.makeFileRightText();break;default:break}this.classImplementation=this.makeFileRightText();let content=this.makeClassBeginTxt(this.rootClassName);content+=this.executeParseEngine(json_object,"");switch(this.type){case WHCParserLanguage.Java:if(this.isExistArray){this.classImplementation="package ;\nimport java.util.ArrayList;\nimport java.util.List;\n"+this.classImplementation}else{this.classImplementation="package ;\n"+this.classImplementation}break;default:break}content+=this.makeClassEndTxt();content+="\n\n\n\n";this.addDidParsedContent(content)}}else{console.log("json string not empty")}return[this.classHeader,this.classImplementation]};WHCJsonParser.prototype.makeFileRightText=function(){let date=new Date();let year=date.getFullYear();let generatedDate=date.toLocaleString();return"\n\n/**\n  * Copyright "+year+" wuhaichao.com\n  * Auto-generated:"+generatedDate+"\n  *\n  * @author wuhaichao.com (whc)\n  * @website http://wuhaichao.com\n  * @github https://github.com/netyouli\n  */\n\n\n"};
